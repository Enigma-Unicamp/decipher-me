{% extends 'challenge/base.html' %}
{% load static %}

{% block title %}
  Home
{% endblock %}

{% block content %}

    {% if request.user.is_authenticated %}

        <h4 style="margin-bottom:30pt">
            Challenges
        </h4>

        {% if challenges %}

          {% for chall in challenges %}
              <form action="{% url 'challenge:challenge' %}" method="post">
                  {% csrf_token %}
                  {% if chall.is_done == '1' %}
                    <i class="material-icons" style="vertical-align: middle">lock_open</i>
                    <input type="submit" value="{{ chall.title }}" class="btn">
                  {% elif chall.is_done == '0' and chall.locked == '1'  %}
                    <i class="material-icons" style="vertical-align: middle">lock</i>
                    <input type="submit" value="{{ chall.title }}" class="btn" disabled>
                  {% else %}
                    <i class="material-icons" style="vertical-align: middle">lock</i>
                    <input type="submit" value="{{ chall.title }}" class="btn">
                  {% endif %}
                  <input name="id_chall" type="hidden" value={{ chall.id_chall }}>
              </form><br/>
          {% endfor %}

        {% else %}
            We still don't have any challenges. Come back soon.
        {% endif %}

    {% else %}

        <img class="home-image" src="{% static "assets/sphinx.svg" %}"></img>

        <!-- Here we have the same text three times because the text size is
             different in differents devices -->
        <div style="text-align: center">
          <p class="hide-on-med-and-down" style="font-size:25px">
            <b>Decipher Me</b> is a free and open web framework to host
            Jeopardy-style Capture The Flag contests. It was built using Django
            and Materialize. Check our
            <a href="https://gitlab.com/enigmaster/decipher-me">GitLab page</a>
            page to learn more. If you want to, feel free to change this
            homepage with your own brand. Also, do not feel afraid to contact us
            and help to improve the code!
          </p>
          <p class="hide-on-large-only hide-on-small-only" style="font-size:20px">
            <b>Decipher Me</b> is a free and open web framework to host
            Jeopardy-style Capture The Flag contests. It was built using Django
            and Materialize. Check our
            <a href="https://gitlab.com/enigmaster/decipher-me">GitLab page</a>
            page to learn more. If you want to, feel free to change this
            homepage with your own brand. Also, do not feel afraid to contact us
            and help to improve the code!
          </p>
          <p class="hide-on-med-and-up" style="font-size:15px">
            <b>Decipher Me</b> is a free and open web framework to host
            Jeopardy-style Capture The Flag contests. It was built using Django
            and Materialize. Check our
            <a href="https://gitlab.com/enigmaster/decipher-me">GitLab page</a>
            page to learn more. If you want to, feel free to change this
            homepage with your own brand. Also, do not feel afraid to contact us
            and help to improve the code!
          </p>
        </div>

    {% endif %}

{% endblock %}
